
Задание № 1: Деление на ноль и try-catch
Исходный код (2/0): При попытке деления целого числа на ноль программа аварийно завершается (сбоем), так как выбрасывается непроверяемое исключение java.lang.ArithmeticException: / by zero.

Деление чисел с плавающей точкой (2.0/0.0): В этом случае исключение не выбрасывается. Результатом операции является специальное значение Infinity (бесконечность), и программа продолжает нормальное выполнение.

Использование try-catch: Если код с делением на ноль обернуть в блок try, а затем добавить блок catch (ArithmeticException e), то при возникновении ошибки программа не завершится сбоем. Блок catch перехватит исключение, выполнит код для обработки (например, выведет сообщение об ошибке), и программа продолжит работу с места после блока catch. Это демонстрирует механизм восстановления системы после ошибки.

Задание № 2: Множественные исключения
В программе, которая считывает пользовательский ввод и выполняет деление (int i = Integer.parseInt(intString); System.out.println(2/i);), возможно возникновение двух основных типов ошибок, которые нужно обрабатывать:

NumberFormatException: Возникает, если пользователь вводит нечисловую строку (например, "Qwerty" или "1.2"). Метод Integer.parseInt() не может преобразовать это в целое число.

ArithmeticException: Возникает, если пользователь ввел целое число 0. Деление на ноль происходит на следующей строке кода.

Для корректной обработки обоих случаев необходимо использовать несколько блоков catch. Первый блок может быть настроен на перехват NumberFormatException, а второй — на ArithmeticException. Это позволяет предоставить пользователю максимально точное сообщение об ошибке, соответствующее причине сбоя.

Задание № 3 и № 4: Общее исключение и finally
Задание № 3: Перехват общего исключения (catch (Exception e))
Правило порядка: Блок catch (Exception e), который является классом-предком для большинства исключений, должен быть расположен последним в списке. Если поставить его первым, компилятор не позволит скомпилировать код, так как более специфичные блоки catch (например, ArithmeticException) становятся недостижимыми.

Назначение: Общий catch используется как «страховка» для перехвата любых непредвиденных исключений, которые не были учтены более специфичными блоками.

Задание № 4: Блок finally
Назначение: Блок finally является уникальным тем, что его код выполняется всегда, независимо от того, было ли выброшено исключение, было ли оно поймано, или код в блоке try завершился успешно.

Использование: Он критически важен для очистки ресурсов (закрытие файлов, сетевых соединений и т.д.), гарантируя, что даже при ошибке ресурсы будут освобождены, предотвращая утечки.

Задание № 5: Генерация собственного исключения (throw)
Оператор throw используется для создания и немедленного выброса нового исключения. Если метод, который сгенерировал исключение, сам его и перехватывает (try-catch внутри), программа не падает, но это часто считается плохой семантикой. В идеале, метод должен передать ответственность за обработку ошибки вызывающему методу.

Задание № 6: Передача ответственности (throws)
Когда вызванный метод (getDetails) выбрасывает непроверяемое исключение (например, NullPointerException), и сам его не ловит, оно автоматически передается выше по стеку вызовов (вызывающему методу printMessage). Добавление try-catch в вызывающий метод позволяет ему решить, как восстановиться после ошибки, что является правильным архитектурным решением.

Задание № 7: Исключение через цепочку вызовов (Проверяемое исключение)
Проверяемые исключения (например, Exception) требуют обязательной обработки или объявления.

Ключевое слово throws: Если метод (getDetails) выбрасывает проверяемое исключение, он обязан объявить об этом в своей сигнатуре (throws Exception). Если вышестоящий метод (printDetails) ловит, а затем повторно выбрасывает это исключение (throw e), он также обязан включить throws Exception в свою сигнатуру. Это заставляет всю цепочку вызовов либо ловить ошибку, либо объявлять о ней, заставляя разработчика учитывать эту проблему.

Задание № 8: Обработка и цикл
Для создания устойчивой программы, которая не падает от ошибки ввода, используется комбинация try-catch внутри цикла while. Если в блоке try возникает исключение, оно ловится, выводится сообщение об ошибке, и цикл автоматически повторяется. Только после успешного выполнения кода в try (корректного ввода) цикл прерывается.